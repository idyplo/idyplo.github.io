!function(t){"use strict";var n=function(n){return this.each(function(){var e,i,a=t(this),o=a.data(),c=[a],r=this.tagName,d=0;e=t.extend({content:"body",headings:"h1,h2,h3"},{content:o.toc||void 0,headings:o.tocHeadings||void 0},n),i=e.headings.split(","),t(e.content).find(e.headings).attr("id",function(n,e){return e||function(t){0===t.length&&(t="?");for(var n=t.replace(/\s+/g,"_"),e="",i=1;null!==document.getElementById(n+e);)e="_"+i++;return n+e}(t(this).text())}).each(function(){var n=t(this),e=t.map(i,function(t,e){return n.is(t)?e:void 0})[0];if(e>d){var a=c[0].children("li:last")[0];a&&c.unshift(t("<"+r+"/>").appendTo(a))}else c.splice(0,Math.min(d-e,Math.max(c.length-1,0)));t("<li/>").appendTo(c[0]).append(t("<a/>").text(n.text()).attr("href","#"+n.attr("id"))),d=e})})},e=t.fn.toc;t.fn.toc=n,t.fn.toc.noConflict=function(){return t.fn.toc=e,this},t(function(){n.call(t("[data-toc]"))})}(window.jQuery);
function tstarLordToc(t,i,o){for(var e=t.split("$"),c=/[^{\}]+(?=})/g,n=0;n<e.length;n++){var a=e[n].split("=");if(a[0].trim()==i)return null!=(o=a[1]).match(c)&&String(o.match(c)).trim()}return!1}$(".post-body b").each(function(){var t=$(this),i=t.text();i.toLowerCase().trim().match("{stpify}")&&(i=0!=tstarLordToc(i,"title")?tstarLordToc(i,"title"):"Table of Contents",t.replaceWith('<div class="stpify-wrap"><div class="stpify-inner"><a href="javascript:;" class="stpify-title" role="button" title="'+i+'"><span class="stpify-title-text">'+i+'</span></a><ol id="stpify"></ol></div></div>'),$(".stpify-title").each(function(t){(t=$(this)).on("click",function(){t.toggleClass("is-expanded"),$("#stpify").slideToggle(170)})}),$("#stpify").toc({content:"#postBody",headings:"h2,h3,h4"}),$("#stpify li a").each(function(t){(t=$(this)).click(function(){return $("html,body").animate({scrollTop:$(t.attr("href")).offset().top-20},500),!1})}))});
